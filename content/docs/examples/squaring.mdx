---
title: Squaring Service example
---
import { Callout } from 'fumadocs-ui/components/callout';

The squaring service is a basic service component that takes a number as an input, and returns the square of that number.

As you can see from the example, the core logic of the service is a simple equation: `let y = x * x`.

1. When a new trigger is created in the Trigger Contract, it emits an event containing a number (`{"x": 5}`) as the `TaskRequestData`.
2. An operator listens to the `NewTrigger` event emitted by the Trigger Contract and passes the data to the Service Component's `process_eth_trigger` function.
3. The Service Component logic is run and a response (`{"y": 25}`) is returned to the Service Manager.
4. The operator signs this result and submits it back on-chain to the Service Manager Contract.




```rust
#[allow(warnings)]
mod bindings;
use anyhow::anyhow;
use bindings::Guest;
use serde::{Deserialize, Serialize};

struct Component;

impl Guest for Component {
    fn process_eth_trigger(input: Vec<u8>) -> std::result::Result<Vec<u8>, String> {
        let TaskRequestData { x } = serde_json::from_slice(&input)
            .map_err(|e| anyhow!("Could not deserialize input request from JSON: {}", e))
            .unwrap();

        let y = x * x;

        println!("{}^2 = {}", x, y);

        Ok(serde_json::to_vec(&TaskResponseData { y })
            .map_err(|e| anyhow!("Could not serialize output data into JSON: {}", e))
            .unwrap())
    }
}

bindings::export!(Component with_types_in bindings);

#[derive(Deserialize, Debug)]
pub struct TaskRequestData {
    pub x: u64,
}

#[derive(Serialize, Debug)]
pub struct TaskResponseData {
    pub y: u64,
}

```

